{{ template "head.html" . }}

<body class="bg-surface">
  <main>
    {{ template "header.html" . }}
    <div id="main-wrapper" class="flex p-5 xl:pr-0">
      {{ template "sidebar.html" . }}

      <div class="w-full page-wrapper xl:px-6 px-0">
        <main class="h-full max-w-full">
          <div class="container full-container p-0 flex flex-col gap-6">
            <div class="card">
              <div class="card-body">
                <div class="flex justify-between items-center mb-4">
                  <h2 class="text-lg font-semibold">{{ call .T .Title }}</h2>
                  <a href="/admin/bookings" class="text-blue-600 hover:underline">{{ call .T "title.back_to_list" }}</a>
                </div>

                {{ if .error }}
                <p class="text-red-500 text-sm mb-4">{{ call .T .error }}</p>
                {{ end }}

                <table class="table-auto border-collapse border border-gray-300 w-full mt-4">
                  <tbody>
                    <tr>
                      <td class="font-semibold border px-4 py-2">{{ call .T "user.email" }}</td>
                      <td class="border px-4 py-2">{{.Booking.User.Email}}</td>
                    </tr>
                    <tr>
                      <td class="font-semibold border px-4 py-2">{{ call .T "user.name" }}</td>
                      <td class="border px-4 py-2">{{.Booking.User.Name}}</td>
                    </tr>
                    <tr>
                      <td class="font-semibold border px-4 py-2">{{ call .T "booking.status" }}</td>
                      <td class="border px-4 py-2 capitalize">{{.Booking.BookingStatus}}</td>
                    </tr>
                    <tr>
                      <td class="font-semibold border px-4 py-2">{{ call .T "booking.total_price" }}</td>
                      <td class="border px-4 py-2">{{ printf "%.0f" .Booking.TotalPrice}} VND</td>
                    </tr>
                    <tr>
                      <td class="font-semibold border px-4 py-2">{{ call .T "booking.is_paid" }}</td>
                      <td class="border px-4 py-2">
                        {{if .Booking.IsPaid}}<img src="/assets/images/checked.png" class="w-5 h-5 inline">{{else}}<img
                          src="/assets/images/remove.png" class="w-5 h-5 inline">{{end}}
                      </td>
                    </tr>
                    <tr>
                      <td class="font-semibold border px-4 py-2">{{ call .T "booking.date_range" }}</td>
                      <td class="border px-4 py-2">{{.Booking.StartDate.Format "2006-01-02"}} â†’
                        {{.Booking.EndDate.Format "2006-01-02"}}</td>
                    </tr>
                  </tbody>
                </table>

                {{if .Booking.BookingRooms}}
                <div class="mt-6">
                  <h3 class="text-lg font-semibold mb-2">{{ call .T "title.rooms_booked" }}</h3>
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    {{range .Booking.BookingRooms}}
                    <div class="border rounded p-4 shadow-sm bg-white">
                      <p class="font-semibold">{{.Room.Name}} - {{.Room.Type}}</p>
                      <p class="text-sm text-gray-600 mt-1">{{ call $.T "title.price_per_night" }}: {{.Price}} VND</p>
                      <p class="text-sm text-gray-600">{{ call $.T "title.view_type" }}: {{.Room.ViewType}}</p>
                      <p class="text-sm text-gray-600">{{ call $.T "title.bed_num" }}: {{.Room.BedNum}}</p>
                    </div>
                    {{end}}
                  </div>
                </div>
                {{end}}

              </div>
            </div>
          </div>
        </main>
      </div>
    </div>
  </main>
  {{ template "script.html" . }}
</body>

</html>